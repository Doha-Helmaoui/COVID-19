"use strict";var _scroll,_wresize,_mobile,_window=$(window),_document=$(document),_body=$("body"),_tablet=1020,_navigationWrapper=$(".navWrapper"),_navigationWrapperMobile=$(".slicknav_menu"),_singleNavigationContainer=$(".sf-simple-nav-container"),_singleNavigation=".sf-simple-nav",_dropdownLayout=_navigationWrapper.find(".navItemLayout"),_dropdownLayoutMobile=_navigationWrapperMobile.find(".navItemLayout"),_navigation=$("#navigationToScrape"),_mobileHeaderNavContainer=$("#sf-main-header"),_navigationPos=_navigation.offset().top,_once=!0,_time=600,_init=!1,_show,_go,mainNavigation={desktopNav:function(){var _this=this;_navigationWrapper.each(function(){$(".mainnav_overlay").length||$("body").prepend('<div class="mainnav_overlay"></div>');var thisNavigationWrapper=$(this),parentLinkCounter=0,navigationUL=thisNavigationWrapper.find("ul.nav"),navigationULMobile=thisNavigationWrapper.find("ul.nav-mobile"),navParentLinkContainer=thisNavigationWrapper.find(".navParent");thisNavigationWrapper.find(".navParent ul li:first-child").each(function(){$(this).closest(".navHomeItemLayout").length?(navigationUL.append($(this).addClass("home")),navigationULMobile.append($(this).addClass("home").clone())):(navigationUL.append($(this)),navigationULMobile.append($(this).clone())),parentLinkCounter++}),navParentLinkContainer.addClass("desktopHidden"),navParentLinkContainer.each(function(k,v){_this.isEmpty($(v).find("li"))&&$(v).hide(),$(this).attr("data-offset",$(this).offset().top-100)}),navParentLinkContainer.hide(),navigationULMobile.find("li").each(function(){var self=$(this),dropdown=thisNavigationWrapper.find(".navItemLayout").eq($(this).index()).find(".navDropdown");_this.existDrodpown(thisNavigationWrapper,self)&&(dropdown.find("ul").each(function(){var children=$(this);if(children.hasClass("main-navigation")||children.hasClass("navVertical"))self.append(children.find("> li").clone());else if(children.closest(".content-block").length>0&&0===children.closest(".horizontal").length){self.append(children.find("> li").clone());var newsItem=children.closest(".content-block").parent().find(".vertical-list-item a").parent(),lastChildren=self.find("> li").last();newsItem.each(function(){var newsLink=$(this).clone().html();lastChildren.append("<li>"+newsLink+"</li>")}),lastChildren.find("> li").wrapAll('<ul class="sub-level"></ul>')}else if(children.closest(".horizontal").length>0){self.append(children.find("> li").first().clone());var lastChildren=self.find("> li").last(),all=children.clone().html();lastChildren.append("<ul class='horizontal-menu'>"+all+"</ul>")}}),self.find("> li").wrapAll("<ul></ul>"))}),navigationULMobile.hide(),navigationUL.find("li a").on("click",function(e){$(this);var dropdown=thisNavigationWrapper.find(".navItemLayout").eq($(this).closest("li").index()).find(".navDropdown");_this.isEmpty(dropdown)||e.preventDefault()}),navigationUL.find("li").on("click",function(e){var self=$(this),drodownLayout=thisNavigationWrapper.find(".navItemLayout"),dropdownLayoutCurrent=drodownLayout.eq(self.index());_this.existDrodpown(thisNavigationWrapper,self)?self.hasClass("open")?(navigationUL.find(".open").removeClass("open"),drodownLayout.slideUp(),drodownLayout.removeClass("navItemLayoutOpened"),_body.removeClass("mainnav_overlay-visible")):(navigationUL.find(".open").removeClass("open"),drodownLayout.slideUp(),drodownLayout.removeClass("navItemLayoutOpened"),_body.removeClass("mainnav_overlay-visible"),self.addClass("open"),dropdownLayoutCurrent.slideDown(),dropdownLayoutCurrent.addClass("navItemLayoutOpened"),_body.addClass("mainnav_overlay-visible"),$(".navItemLayoutOpened img.lazy").lazy({bind:"event",delay:0})):(navigationUL.find(".open").removeClass("open"),drodownLayout.slideUp(),drodownLayout.removeClass("navItemLayoutOpened"),_body.removeClass("mainnav_overlay-visible"))})}),_window.on("resize",function(){$(this).width()<_tablet&&(_dropdownLayout.slideUp(),_dropdownLayout.removeClass("navItemLayoutOpened"),_navigationWrapper.find(".open").removeClass("open"),_body.removeClass("mainnav_overlay-visible"))}),$(".navWrapper .navItemLayout .horizontal ul li").on("click",function(e){$(".navItemLayout").slideUp(),$(".navItemLayout").removeClass("navItemLayoutOpened"),$("#navigationToScrape").find(".open").removeClass("open"),_body.removeClass("mainnav_overlay-visible")})},isEmpty:function(element){return!$.trim(element.html())},outsideClickListener:function(selector,visibleSelector){_document.on("click touchstart",function(e){selector.is(e.target)||0!==selector.has(e.target).length||visibleSelector.is(":visible")&&(visibleSelector.slideUp(),visibleSelector.removeClass("navItemLayoutOpened"),selector.find(".open").removeClass("open"),_body.removeClass("mainnav_overlay-visible"))})},outsideClickListenerOnMobile:function(){var container=$(".slicknav_menu");$(document).on("click touchstart",function(e){!container.is(e.target)&&0===container.has(e.target).length&&!$(e.target).hasClass("slicknav_btn")&&!$(e.target).closest("div.slicknav_menu").length>0&&$(".nav-mobile").slicknav("close")})},existDrodpown:function(thisElement,selectedDropdownLayout){var _this=this,dropdown=thisElement.find(".navItemLayout").eq(selectedDropdownLayout.index()).find(".navDropdown");return!_this.isEmpty(dropdown)},svgFillColor:function(){$("img.svg").each(function(){var $img=$(this),imgID=$img.attr("id"),imgClass=$img.attr("class"),imgURL=$img.attr("src");void 0!==imgURL&&$.get(imgURL,function(data){var $svg=$(data).find("svg");void 0!==imgID&&($svg=$svg.attr("id",imgID)),void 0!==imgClass&&($svg=$svg.attr("class",imgClass+" replaced-svg")),!($svg=$svg.removeAttr("xmlns:a")).attr("viewBox")&&$svg.attr("height")&&$svg.attr("width")&&$svg.attr("viewBox","0 0 "+$svg.attr("height")+" "+$svg.attr("width")),$img.replaceWith($svg)},"xml")})},scroll:function(){_document.scrollTop()>_navigationPos?(_init=!0,!0===_once&&(_once=!1),_navigation.addClass("attached")):!0===_init&&(_navigation.removeClass("attached"),_once=!0,_init=!1)},desktopNavSticky:function(){var self=this,logo=$(".header-logo .logo"),homeLink=_navigation.find(".navWrapper .home a");_navigation.find(".navWrapper .home .logo").length<1&&(logo.clone().appendTo(homeLink),self.svgFillColor()),window.addEventListener("touchstart",function(){_mobile=!0}),_document.scroll(self.scroll),_window.on("resize",function(){$(this).width<_tablet&&(console.log(_mobile),_mobile=!0)})},slickNav:function(){if(void 0!==$.fn.slicknav){var slicknavOpened=function(trigger){var $trigger=$(trigger[0]);if(!$trigger.hasClass("slicknav_btn")){var $liParent=$trigger.parent();$liParent.parent().children().each(function(){var $child=$(this);if(!$child.is($liParent)&&!$child.hasClass("slicknav_collapsed")&&$child.hasClass("slicknav_open")){var $anchor=$child.children().first();$anchor.hasClass("slicknav_item")&&$anchor.click()}})}},currWrapper=_navigationWrapper,mobileNavigation=".nav-mobile";_singleNavigationContainer.length&&(currWrapper=_singleNavigationContainer,mobileNavigation=_singleNavigation),currWrapper.each(function(){var mobileNav=$(this).find(mobileNavigation);$(".slicknav_overlay").length||$("body").prepend('<div class="slicknav_overlay"></div>'),mobileNav.slicknav({appendTo:"#sf-main-header .container > .row .col-md-12",label:"",allowParentLinks:"true",closedSymbol:"",openedSymbol:"",beforeOpen:function(trigger){slicknavOpened(trigger),$("body").addClass("noscroll")},afterOpen:function(trigger){$(".slicknav_overlay").addClass("visible"),$(".slicknav_overlay").animate({opacity:"1"},100),$(trigger).hasClass("slicknav_btn")&&$(".slicknav_menu").addClass("open-menu")},afterClose:function(trigger){$(".slicknav_btn").hasClass("slicknav_open")||($(".slicknav_overlay").removeClass("visible"),$(".slicknav_overlay").animate({opacity:"0"},100),$("body").removeClass("noscroll"),$(".slicknav_menu").removeClass("open-menu"))}})});var topHeader=$(".top-header"),langSelector=topHeader.find(".sf-lang-selector"),langSelectorCurrent=langSelector.find(".selected"),socialShareHeader=$("section.content").find(".follow-us--header");""!=socialShareHeader.length&&_mobileHeaderNavContainer.find(".slicknav_nav").append('<li class="slicknav_addition follow-us--header slicknav_collapsed slicknav_parent"><ul class="slicknav_hidden">'+socialShareHeader.html()+"</ul></li>"),""!=langSelectorCurrent.length&&(_mobileHeaderNavContainer.find(".slicknav_nav").prepend('<li class="slicknav_addition sf-lang-selector slicknav_collapsed slicknav_parent"><ul class="slicknav_hidden">'+langSelector.html()+"</ul></li>"),$(".slicknav_addition.sf-lang-selector").find(".selected").parent().addClass("selected")),""!=$(".horizontal-menu").length&&_mobileHeaderNavContainer.find(".slicknav_nav").find(".horizontal-menu").parent().addClass("horizontal-menu-list");var geoNavigation=topHeader.find("#sf-geo-navigation-container");""!=geoNavigation.length&&($("body").addClass("geo-navigation-exist"),_mobileHeaderNavContainer.find(".slicknav_nav").prepend('<li class="slicknav_addition sf-geo-navigation-selector slicknav_collapsed slicknav_parent"><ul class="slicknav_hidden">'+geoNavigation.html()+"</ul></li>")),$(document).on("click touchstart",function(e){var nav=_mobileHeaderNavContainer.find(" .slicknav_menu"),navmenu=_mobileHeaderNavContainer.find(" .slicknav_nav");nav.is(e.target)||0!==nav.has(e.target).length||navmenu.is(e.target)||0!==navmenu.has(e.target).length||nav.is(":visible")&&$(".main-navigation").slicknav("close")}),_window.on("resize",function(){$(this).width()>_tablet&&($(".main-navigation").slicknav("close"),$("body").removeClass("noscroll"))})}},init:function(){this.desktopNav(),this.desktopNavSticky(),this.outsideClickListener(_navigationWrapper,_dropdownLayout),this.outsideClickListenerOnMobile(),this.slickNav()}};$(function(){mainNavigation.init()});